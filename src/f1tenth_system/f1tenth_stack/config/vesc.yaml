# VESC 드라이버(정확한 키: port)
vesc_driver_node:
  ros__parameters:
    port: /dev/ttyACM0
    baudrate: 115200
    rpm_topic: /vesc/commands/motor/speed
    servo_topic: /vesc/commands/servo/position
    status_topic: /vesc/sensors/core
    duty_cycle_min: 0.0
    duty_cycle_max: 0.0
    current_min: 0.0
    current_max: 100.0
    brake_min: -20000.0
    brake_max: 200000.0
    speed_min: -23250.0
    speed_max: 23250.0
    position_min: 0.0
    position_max: 0.0
    servo_min: 0.15
    servo_max: 0.85
    servo_min_pulse: 500
    servo_max_pulse: 2500

# 구 호환(있어도 무해)
vesc:
  ros__parameters:
    port: /dev/ttyACM0
    baudrate: 115200
    rpm_topic: /vesc/commands/motor/speed
    servo_topic: /vesc/commands/servo/position
    status_topic: /vesc/sensors/core

# Ackermann → VESC (필수 4개 모두)
ackermann_to_vesc:
  ros__parameters:
    speed_to_erpm_gain: 4614.0
    speed_to_erpm_offset: 0.0
    steering_angle_to_servo_gain: -1.0
    steering_angle_to_servo_offset: 0.5925

ackermann_to_vesc_node:
  ros__parameters:
    speed_to_erpm_gain: 4614.0
    speed_to_erpm_offset: 0.0
    steering_angle_to_servo_gain: -1.0
    steering_angle_to_servo_offset: 0.5925

# VESC → Odom (정확한 키들로 모두 명시)
vesc_to_odom:
  ros__parameters:
    odom_frame: odom
    base_frame: base_link
    publish_tf: true
    use_servo_cmd_to_calc_angular_velocity: true
    speed_to_erpm_gain: 4614.0
    speed_to_erpm_offset: 0.0
    steering_angle_to_servo_gain: -1.0
    steering_angle_to_servo_offset: 0.5925
    wheelbase: 0.25

vesc_to_odom_node:
  ros__parameters:
    odom_frame: odom
    base_frame: base_link
    publish_tf: true
    use_servo_cmd_to_calc_angular_velocity: true
    speed_to_erpm_gain: 4614.0
    speed_to_erpm_offset: 0.0
    steering_angle_to_servo_gain: -1.0
    steering_angle_to_servo_offset: 0.5925
    wheelbase: 0.25
